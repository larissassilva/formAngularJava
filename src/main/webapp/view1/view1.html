<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="pt-br" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script> 
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!-- Google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
    
    <title>Mídia Jataí</title>
    <link rel="icon" href="https://midiajatai.com.br/favicon.png" sizes="32x32">
    <link rel="stylesheet" href="view1.css">
    
</head>

<body>   
<div class="container d-flex justify-content-center">
<div class="row">
<div class=".col-xs-12 .col-sm-12 .col-md-12 .col-lg-12">

<form ng-app="myApp" ng-controller="validateCtrl" 
name="myForm" novalidate  >
<h2 class="centralizar" style="margin-top:30px">Formulário de Cadastro</h2>
<br>
<p><label class="tam"><i class="fa fa-user-circle-o" aria-hidden="true"></i>&nbsp; Nome:</label>
    <input Style="width:280px" id="nome" type="text" name="user" ng-model="user"  required>
<span style="color:red" ng-show="myForm.user.$dirty && myForm.user.$invalid">
<br>
<span ng-show="myForm.user.$error.required">Nome é obrigatório.</span>
</span>
</p>

<p><label class="tam"><i class="fa fa-file-text-o" aria-hidden="true"></i> &nbsp;Sobrenome:</label>
<input id="sobrenome" Style="width:280px" type="text" name="sobrenome" ng-model="sobrenome"  required>
<span style="color:red" ng-show="myForm.sobrenome.$dirty && myForm.sobrenome.$invalid">
<br>
<span ng-show="myForm.sobrenome.$error.required">Sobrenome é obrigatório.</span>
</span>
</p>

<p><label class="tam"><i class="fa fa-envelope-o"></i>&nbsp;E-mail:</label>
<input id="email" Style="width:280px" type="email" name="email" ng-model="email"  required>
<span style="color:red" ng-show="myForm.email.$dirty && myForm.email.$invalid">
<br>
<span ng-show="myForm.email.$error.required">E-mail é obrigatório..</span>
<br>
<span ng-show="myForm.email.$error.email">Endereço de E-mail inválido.</span>
</span>
</p>

<p><label class="tam"><i class="fa fa-lock" aria-hidden="true"></i> &nbsp;Senha:</label>
<input  id="password" type="password" name="senha" ng-model="senha" required> <input type="button" id="showPassword" value="Mostrar" class="button" />
<span style="color:red" ng-show="myForm.senha.$dirty && myForm.senha.$invalid">
<br>
<span ng-show="myForm.senha.$error.required">Senha é obrigatório.</span>
</span>
</p>

<button class="btn add btn-success" Style="width:96%" type="submit" ng-click="adiciona()"
ng-disabled="myForm.user.$dirty && myForm.user.$invalid || myForm.sobrenome.$dirty && myForm.sobrenome.$invalid ||
myForm.email.$dirty && myForm.email.$invalid || myForm.senha.$dirty && myForm.senha.$invalid ">Enviar</button>


</form>
</div>
</div>
</div>

<div ng-view></div>

<h2><a href="https://github.com/larissassilva/formAngularJava/index.html"> Voltar</a></h2>
<script>
  var user;
  var sobrenome;
  var email;
  var senha;
  var jsonString;
  var app = angular.module('myApp', []);
    app.controller('validateCtrl', function($scope) {
        $scope.user = 'Larissa';
        $scope.sobrenome = 'Silva';
        $scope.email = 'larissa.ssilva@gmail.com';
        $scope.senha = 'La10@203';

        formData: any = {};

        $scope.adiciona = function(){
            user = document.getElementById("nome").value;
            sobrenome = document.getElementById("sobrenome").value;
            email = document.getElementById("email").value;
            senha = document.getElementById("password").value;
            alert(user+" "+sobrenome+" "+email+" "+senha);
            
            var objeto = {
                user: user,
                sobrenome: sobrenome,
                email: email,
                senha: senha
            };
            jsonString = JSON.stringify(objeto);
            console.log(jsonString);
            sucesso();
             

        };

    });
    function sucesso(){
        $.ajax({
                type: 'POST',
                url: '/target/classes/CadastrarTeste.class',
                data: jsonString,
                dataType: 'JSON',
                success: function(response) {
                    console.log(response);
                    // Lidar com a resposta do servidor aqui
                    console.log('Resposta do servidor:', response);
                    alert("Sucesso!");
                },
                error: function(error) {
                    console.log(error);
                    alert("Erro!");
                    console.error('Erro ao enviar JSON:', error);
                }
            });
        }

    $(document).ready(function(){

      $('#showPassword').on('click', function(){

        var passwordField = $('#password');
        var passwordFieldType = passwordField.attr('type');

        if(passwordFieldType === 'password'){  
            passwordField.attr('type', 'text');
            $(this).val('Esconder');
        } else {
            passwordField.attr('type', 'password');
            $(this).val('Mostrar');
        }
      });
    });


</script>

  <!--<div>AngularJS seed app: v<span app-version></span></div>-->

  <!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
  -->

 <script src="view1.js"></script>

</html>


